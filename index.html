<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
  <title>BuzzWire</title>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>
  <h1>BuzzWire</h1>
  <div>
    <input type="text" id="postTitle" placeholder="Título de la publicación">
    <textarea id="postContent" placeholder="Contenido de la publicación"></textarea>
    <button id="postButton">Publicar</button>
  </div>
  <ul id="posts"></ul>

  <script>
    // index.html
<script>
  let posts = [];

function loadPosts() {
  $.ajax({
    url: 'posts.json',
    dataType: 'json',
    success: function(data) {
      posts = data.posts;
      $('#posts').empty();
      $.each(posts, function(index, post) {
        $('#posts').append(`<li>${post.title}</li>`);
      });
    }
  });
}

function createPost() {
  const postTitle = $('#postTitle').val();
  const postContent = $('#postContent').val();

  if (postTitle.trim() !== '' && postContent.trim() !== '') {
    const newPost = {
      id: posts.length + 1,
      title: postTitle,
      content: postContent
    };

    posts.push(newPost);

    $.ajax({
      url: 'posts.json',
      type: 'PUT',
      data: JSON.stringify({ posts: posts }),
      contentType: 'application/json; charset=utf-8',
      dataType: 'json',
      success: function(data) {
        $('#postTitle').val('');
        $('#postContent').val('');
        loadPosts();
      }
    });
  }
}

$('#postButton').click(createPost);
loadPosts();
  </script>
</body>
</html>
